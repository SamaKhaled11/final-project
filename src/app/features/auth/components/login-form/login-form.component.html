<form [formGroup]="loginForm">
  <div class="mt-10">
    <div class="mb-5 relative">
      <input
        formControlName="email"
        type="email"
        id="userEmail"
        class="peer main-input"
        placeholder=" "
      />
      <label
        for="userEmail"
        class="main-label peer-placeholder-shown:scale-100 peer-placeholder-shown:translate-y-0 peer-focus:scale-75 peer-focus:-translate-y-4 rtl:peer-focus:translate-x-1/4 rtl:peer-focus:left-auto"
        >User Emial</label
      >
    </div>
    @if(loginForm.get('email')?.touched && loginForm.get('email')?.errors){
    <div class="my-4">
      <div
        class="flex p-4 mb-4 text-sm text-fg-danger-strong rounded-base bg-danger-soft border border-danger-subtle"
        role="alert"
      >
        <svg
          class="w-4 h-4 me-2 shrink-0"
          aria-hidden="true"
          xmlns="http://www.w3.org/2000/svg"
          width="24"
          height="24"
          fill="none"
          viewBox="0 0 24 24"
        >
          <path
            stroke="currentColor"
            stroke-linecap="round"
            stroke-linejoin="round"
            stroke-width="2"
            d="M10 11h2v5m-2 0h4m-2.592-8.5h.01M21 12a9 9 0 1 1-18 0 9 9 0 0 1 18 0Z"
          />
        </svg>
        <span class="sr-only">Danger</span>
        <div>
          <span class="font-medium">Ensure that these requirements are met:</span>
          <ul class="mt-2 list-disc list-outside space-y-1 ps-2.5">
            @if(loginForm.get('email')?.getError('required')){
            <li>Required</li>
            } @if(loginForm.get('email')?.getError('email')){
            <li>not a valid email</li>
            }
          </ul>
        </div>
      </div>
    </div>
    }

    <div class="mb-5 relative">
      <input
        autocomplete="off"
        formControlName="password"
        [type]="!isShowPassword ? 'text' : 'password'"
        id="password"
        class="peer main-input"
        placeholder=" "
      />
      <label
        for="password"
        class="main-label peer-placeholder-shown:scale-100 peer-placeholder-shown:translate-y-0 peer-focus:scale-75 peer-focus:-translate-y-4 rtl:peer-focus:translate-x-1/4 rtl:peer-focus:left-auto"
        >Password</label
      >
      <button
        (click)="isShowPassword = !isShowPassword"
        class="cursor-pointer absolute top-1/2 end-2 -translate-y-1.5"
      >
        @if(!isShowPassword){
        <i class="fas fa-eye"></i>
        }@else {
        <i class="fas fa-eye-slash"></i>
        }
      </button>
    </div>
    <div><a routerLink="/forget-password">Forget Password?</a></div>
    @if(loginForm.get('password')?.touched && loginForm.get('password')?.errors){
    <div class="my-4">
      <div
        class="flex p-4 mb-4 text-sm text-fg-danger-strong rounded-base bg-danger-soft border border-danger-subtle"
        role="alert"
      >
        <svg
          class="w-4 h-4 me-2 shrink-0"
          aria-hidden="true"
          xmlns="http://www.w3.org/2000/svg"
          width="24"
          height="24"
          fill="none"
          viewBox="0 0 24 24"
        >
          <path
            stroke="currentColor"
            stroke-linecap="round"
            stroke-linejoin="round"
            stroke-width="2"
            d="M10 11h2v5m-2 0h4m-2.592-8.5h.01M21 12a9 9 0 1 1-18 0 9 9 0 0 1 18 0Z"
          />
        </svg>
        <span class="sr-only">Danger</span>
        <div>
          <span class="font-medium">Ensure that these requirements are met:</span>
          <ul class="mt-2 list-disc list-outside space-y-1 ps-2.5">
            @if(loginForm.get('password')?.getError('required')){
            <li>Required</li>
            } @if(loginForm.get('password')?.getError('pattern')){
            <li>not a valid password</li>
            }
          </ul>
        </div>
      </div>
    </div>
    }

    <div class="mt-10">
      <button type="submit" (click)="submitData()" class="btn-main w-full">
        Login @if(isLoading){
        <i class="mr-2 fas fa-spinner fa-spin"></i>
        }
      </button>
    </div>

    @if(successMessage){
    <div class="bg-green-100 border-l-4 border-green-500 text-green-700 p-4" role="alert">
      <p class="font-bold">{{ successMessage }}</p>
      <p></p>
    </div>
    } @if(errorMessage){
    <div class="mt-5">
      <div class="bg-red-100 border-l-4 border-red-500 text-red-700 p-4" role="alert">
        <p class="font-bold">{{ errorMessage }}</p>
        <p></p>
      </div>
    </div>
    }
  </div>
</form>
